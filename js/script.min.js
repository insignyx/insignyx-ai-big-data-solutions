const DropdownManager={dropdowns:new Map(),init(){document.addEventListener('click',this.handleDocumentClick.bind(this));document.addEventListener('keydown',this.handleKeyDown.bind(this))},register(triggerId,dropdownId,options={}){const trigger=document.getElementById(triggerId);const dropdown=document.getElementById(dropdownId);if(!trigger||!dropdown)return;const config={closeOnClickOutside:true,closeOnEscape:true,toggleOnClick:true,...options};this.dropdowns.set(triggerId,{trigger,dropdown,config,isOpen:false});trigger.addEventListener('click',this.handleTriggerClick.bind(this,triggerId))},handleTriggerClick(triggerId,event){event.preventDefault();event.stopPropagation();const dropdownData=this.dropdowns.get(triggerId);if(!dropdownData)return;if(dropdownData.config.toggleOnClick){dropdownData.isOpen?this.close(triggerId):this.open(triggerId)}else{this.open(triggerId)}},open(triggerId){this.closeAll();const dropdownData=this.dropdowns.get(triggerId);if(!dropdownData)return;dropdownData.dropdown.classList.remove('hidden');dropdownData.dropdown.classList.add('block');dropdownData.isOpen=true;dropdownData.trigger.setAttribute('aria-expanded','true')},close(triggerId){const dropdownData=this.dropdowns.get(triggerId);if(!dropdownData)return;dropdownData.dropdown.classList.remove('block');dropdownData.dropdown.classList.add('hidden');dropdownData.isOpen=false;dropdownData.trigger.setAttribute('aria-expanded','false')},closeAll(){this.dropdowns.forEach((data,id)=>{if(data.isOpen){this.close(id)}})},handleDocumentClick(event){this.dropdowns.forEach((data,id)=>{if(data.isOpen&&data.config.closeOnClickOutside){if(!data.trigger.contains(event.target)&&!data.dropdown.contains(event.target)){this.close(id)}}})},handleKeyDown(event){if(event.key==='Escape'){this.dropdowns.forEach((data,id)=>{if(data.isOpen&&data.config.closeOnEscape){this.close(id)}})}}};const MobileMenu={isOpen:false,button:null,menu:null,init(){this.button=document.querySelector('.mobile-menu-button');this.menu=document.querySelector('.mobile-menu');if(!this.button||!this.menu)return;this.button.addEventListener('click',this.toggle.bind(this));document.addEventListener('click',this.handleDocumentClick.bind(this));window.addEventListener('resize',this.handleResize.bind(this))},toggle(){this.isOpen?this.close():this.open()},open(){this.menu.classList.remove('hidden');this.menu.classList.add('block');this.isOpen=true;this.button.setAttribute('aria-expanded','true');document.body.style.overflow='hidden'},close(){this.menu.classList.remove('block');this.menu.classList.add('hidden');this.isOpen=false;this.button.setAttribute('aria-expanded','false');document.body.style.overflow=''},handleDocumentClick(event){if(this.isOpen&&!this.button.contains(event.target)&&!this.menu.contains(event.target)){this.close()}},handleResize(){if(window.innerWidth>768&&this.isOpen){this.close()}}};const PerformanceOptimizer={lazyImages:[],scrollListeners:[],init(){this.setupLazyLoading();this.optimizeScrollEvents()},setupLazyLoading(){const images=document.querySelectorAll('img[data-src]');const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.removeAttribute('data-src');observer.unobserve(img)}})});images.forEach(img=>imageObserver.observe(img))},optimizeScrollEvents(){let ticking=false;const handleScroll=()=>{if(!ticking){requestAnimationFrame(()=>{this.scrollListeners.forEach(callback=>callback());ticking=false});ticking=true}};window.addEventListener('scroll',handleScroll,{passive:true})},addScrollListener(callback){this.scrollListeners.push(callback)}};document.addEventListener('DOMContentLoaded',()=>{DropdownManager.init();MobileMenu.init();PerformanceOptimizer.init();DropdownManager.register('services-trigger','services-dropdown');DropdownManager.register('solutions-trigger','solutions-dropdown');DropdownManager.register('company-trigger','company-dropdown')});